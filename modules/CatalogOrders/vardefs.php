<?php
$dictionary['CatalogOrder'] = [
    'table' => 'catalogorders',
    'fields' => [
        'name' => [
            'name' => 'name',
            'type' => 'varchar',
            'len' => 255,
            'required' => false,
            'vname' => 'LBL_ORDER_NUMBER',
        ],
        'status' => [
            'name' => 'status',
            'type' => 'enum',
            'len' => 20,
            'vname' => 'LBL_STATUS',
            'options' => 'catalogorder_status',
            'default' => 'new',
        ],
        'catalogs' => [
            'name' => 'catalogs',
            'type' => 'json',
            'dbType' => 'text',
            'vname' => 'LBL_CATALOGS',
        ],
        'shipping_date' => [
            'name' => 'shipping_date',
            'type' => 'datetime',
            'vname' => 'LBL_SHIPPING_DATE',
        ],
        'shipped_date' => [
            'name' => 'shipped_date',
            'type' => 'datetime',
            'vname' => 'LBL_SHIPPED_DATE',
        ],
        'outputtemplate_id' => [
            'name' => 'outputtemplate_id',
            'type' => 'varchar',
            'len' => 36,
            'required' => true,
            'vname' => 'LBL_OUTPUT_TEMPLATE',
        ],
        'outputtemplate' => [
            'name' => 'outputtemplate',
            'type' => 'link',
            'module' => 'OutputTemplates',
            'relationship' => 'catalogorders_outputtemplate',
            'source' => 'non-db',
            'vname' => 'LBL_OUTPUT_TEMPLATE',
        ],
        'outputtemplate_name' => [
            'name' => 'outputtemplate_name',
            'rname' => 'name',
            'id_name' => 'outputtemplate_id',
            'type' => 'relate',
            'link' => 'outputtemplate',
            'table' => 'outputtemplates',
            'module' => 'OutputTemplates',
            'source' => 'non-db',
            'vname' => 'LBL_OUTPUT_TEMPLATE',
        ],
        'parent_id' => [
            'name' => 'parent_id',
            'vname' => 'LBL_LIST_RELATED_TO_ID',
            'type' => 'id',
            'required' => true,
        ],
        'parent_type' => [
            'name' => 'parent_type',
            'vname' => 'LBL_PARENT_TYPE',
            'type' => 'parent_type',
            'dbType' => 'varchar',
            'required' => true,
            'len' => 50,
        ],
        'parent_name' => [
            'name' => 'parent_name',
            'parent_type' => 'record_type_display',
            'type_name' => 'parent_type',
            'id_name' => 'parent_id',
            'vname' => 'LBL_RELATED_TO',
            'type' => 'parent',
            'required' => true,
            'source' => 'non-db'
        ],
        // will be filled in by retrieve()...
        'contact_address_street' => array(
            'name' => 'contact_address_street',
            'vname' => 'LBL_STREET',
            'type' => 'varchar',
            'len' => '150',
            'source' => 'non-db',
        ),
        'contact_address_postalcode' => array(
            'name' => 'contact_address_postalcode',
            'vname' => 'LBL_BILLING_ADDRESS_POSTALCODE',
            'type' => 'varchar',
            'len' => '20',
            'source' => 'non-db',
        ),
        'contact_address_city' => array(
            'name' => 'contact_address_city',
            'vname' => 'LBL_BILLING_ADDRESS_CITY',
            'type' => 'varchar',
            'len' => '100',
            'source' => 'non-db',
        ),
        'contact_full_name' => [
            'name' => 'contact_full_name',
            'rname' => 'name',
            'id_name' => 'contact_id',
            'type' => 'relate',
            'link' => 'contact',
            'table' => 'contacts',
            'module' => 'Contacts',
            'source' => 'non-db',
            'vname' => 'LBL_CONTACT'
        ],
        'contact_salutation' => array(
            'name' => 'contact_salutation',
            'vname' => 'LBL_SALUTATION',
            'type' => 'enum',
            'options' => 'salutation_dom',
            'len' => '255',
            'source' => 'non-db',
            'readonly' => true,
        ),
        'contact_first_name' => array(
            'name' => 'contact_first_name',
            'vname' => 'LBL_FIRST_NAME',
            'type' => 'varchar',
            'len' => '100',
            'source' => 'non-db',
            'readonly' => true,
        ),
        'contact_last_name' => array(
            'name' => 'contact_last_name',
            'vname' => 'LBL_LAST_NAME',
            'type' => 'varchar',
            'len' => '100',
            'source' => 'non-db',
            'readonly' => true,
        ),
        'contact_degree1' => array(
            'name' => 'contact_degree1',
            'vname' => 'LBL_DEGREE1',
            'type' => 'varchar',
            'len' => 50,
            'source' => 'non-db',
            'readonly' => true,
        ),
        'contact_degree2' => array(
            'name' => 'contact_degree2',
            'vname' => 'LBL_DEGREE2',
            'type' => 'varchar',
            'len' => 50,
            'source' => 'non-db',
            'readonly' => true,
        ),
        'inquiry_id' => [
            'name' => 'inquiry_id',
            'type' => 'varchar',
            'len' => 36,
        ],
        'inquiries' => [
            'name' => 'inquiries',
            'type' => 'link',
            'module' => 'Inquiries',
            'relationship' => 'inquiry_catalogorders',
            'source' => 'non-db',
        ],
        'inquiry_name' => [
            'name' => 'inquiry_name',
            'rname' => 'name',
            'id_name' => 'inquiry_id',
            'type' => 'relate',
            'link' => 'inquiries',
            'table' => 'inquiries',
            'module' => 'Inquiries',
            'source' => 'non-db',
            'vname' => 'LBL_INQUIRY',
        ],
        'emails' => [
            'name' => 'emails',
            'type' => 'link',
            'relationship' => 'emails_catalogorders',
            'module' => 'Emails',
            'bean_name' => 'Email',
            'source' => 'non-db',
            'vname' => 'LBL_EMAILS',
        ],
        'internal_comment' => [
            'name' => 'internal_comment',
            'vname' => 'LBL_INTERNAL_COMMENT',
            'type' => 'text',
        ],
        'consumer' => [
            'name' => 'consumer',
            'type' => 'link',
            'relationship' => 'consumers_catalogorders',
            'module' => 'Consumers',
            'bean_name' => 'Consumer',
            'source' => 'non-db',
            'vname' => 'LBL_CONSUMERS',
        ],
        'contact' => [
            'name' => 'contact',
            'type' => 'link',
            'relationship' => 'contacts_catalogorders',
            'module' => 'Contacts',
            'bean_name' => 'Contact',
            'source' => 'non-db',
            'vname' => 'LBL_CONTACTS',
        ],
        'account' => [
            'name' => 'account',
            'type' => 'link',
            'relationship' => 'accounts_catalogorders',
            'module' => 'Accounts',
            'bean_name' => 'Account',
            'source' => 'non-db',
            'vname' => 'LBL_ACCOUNTS',
        ],
        'lead' => [
            'name' => 'lead',
            'type' => 'link',
            'relationship' => 'leads_catalogorders',
            'module' => 'Leads',
            'bean_name' => 'Lead',
            'source' => 'non-db',
            'vname' => 'LBL_LEADS',
        ],


    ],
    'relationships' => [
        'contacts_catalogorders' => [
            'lhs_module' => 'Contacts',
            'lhs_table' => 'contacts',
            'lhs_key' => 'id',
            'rhs_module' => 'CatalogOrders',
            'rhs_table' => 'catalogorders',
            'rhs_key' => 'parent_id',
            'relationship_type' => 'one-to-many',
             'relationship_role_column' => 'parent_type',
            'relationship_role_column_value' => 'Contacts'
        ],
        'accounts_catalogorders' => [
            'lhs_module' => 'Accounts',
            'lhs_table' => 'accounts',
            'lhs_key' => 'id',
            'rhs_module' => 'CatalogOrders',
            'rhs_table' => 'catalogorders',
            'rhs_key' => 'parent_id',
            'relationship_type' => 'one-to-many',
             'relationship_role_column' => 'parent_type',
            'relationship_role_column_value' => 'Accounts'
        ],
        'leads_catalogorders' => [
            'lhs_module' => 'Leads',
            'lhs_table' => 'leads',
            'lhs_key' => 'id',
            'rhs_module' => 'CatalogOrders',
            'rhs_table' => 'catalogorders',
            'rhs_key' => 'parent_id',
            'relationship_type' => 'one-to-many',
             'relationship_role_column' => 'parent_type',
            'relationship_role_column_value' => 'Leads'
        ],
        'consumers_catalogorders' => [
            'lhs_module' => 'Consumers',
            'lhs_table' => 'consumers',
            'lhs_key' => 'id',
            'rhs_module' => 'CatalogOrders',
            'rhs_table' => 'catalogorders',
            'rhs_key' => 'parent_id',
            'relationship_type' => 'one-to-many',
             'relationship_role_column' => 'parent_type',
            'relationship_role_column_value' => 'Consumers'
        ],
        'catalogorders_outputtemplate' => [
            'lhs_module' => 'CatalogOrders',
            'lhs_table' => 'catalogorders',
            'lhs_key' => 'outputtemplate_id',
            'rhs_module' => 'OutputTemplates',
            'rhs_table' => 'outputtemplates',
            'rhs_key' => 'id',
            'relationship_type' => 'one-to-one'
        ],
    ],
];

VarDefManager::createVardef('CatalogOrders', 'CatalogOrder', [
    'default', 'assignable'
]);
